library(shiny)

ui <- fluidPage(
  tags$head(
    tags$script(
      HTML(
        "
        $(document).on('keydown', function(e) {
          if (e.ctrlKey && e.which === 90) {  // 90 is the key code for 'Z'
            Shiny.onInputChange('undoButton', Math.random());
          }
        });
        "
      )
    )
  ),
  fluidRow(
    rHandsontableOutput("hot"),
    actionButton("undoButton", "Undo")
  )
)

server <- function(input, output) {
  output$hot <- renderRHandsontable({
    # Your rHandsontable logic here
    rhandsontable(data = data.frame(A = c(1, 2, 3), B = c(4, 5, 6)))
  })

  observeEvent(input$undoButton, {
    # Your undo logic here
    cat("Undo button pressed!\n")
  })
}

shinyApp(ui, server)
